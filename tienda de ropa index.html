<h1>Tienda Urbana <span class="marca">Juan Lopez</span></h1>

<div id="productos"></div>

<div class="carrito">
  <h2>ðŸ§¾ Carrito de Compras</h2>
  <ul id="lista-carrito"></ul>
  <p><strong>Total: $<span id="total">0.00</span></strong></p>
  <button class="vaciar" onclick="vaciarCarrito()">ðŸ§¼ Vaciar Carrito</button>
</div>

<style>
  body {
    font-family: "Poppins", system-ui, sans-serif;
    background-color: #0e0e0e; /* fondo negro grafito */
    color: #f5f5f5;           /* texto principal claro */
    padding: 20px;
    text-align: center;
  }

  h1 {
    color: #ff3c00; /* acento naranja neÃ³n */
    font-size: 2.3rem;
    letter-spacing: 1px;
    text-shadow: 0 0 8px rgba(255, 60, 0, 0.6);
  }

  .marca {
    color: #00d26a;
    text-shadow: 0 0 6px rgba(0, 210, 106, 0.7);
  }

  #productos {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 15px;
    margin-top: 25px;
  }

  .producto {
    border: 1px solid #2a2a2a; /* borde oscuro sutil */
    background: #1a1a1a;       /* tarjeta oscura */
    border-radius: 10px;
    padding: 12px;
    width: 220px;
    transition: all 0.3s ease;
    box-shadow: 0 0 8px rgba(0, 0, 0, 0.4);
  }

  .producto:hover {
    transform: translateY(-5px);
    box-shadow: 0 0 12px rgba(255, 60, 0, 0.3);
  }

  .producto img {
    width: 100%;
    height: 140px;
    object-fit: cover;
    border-radius: 6px;
    margin-bottom: 10px;
  }

  .producto h3 {
    font-size: 1.1rem;
    margin-bottom: 5px;
    color: #00d26a;
  }

  .producto p {
    margin: 0;
    color: #ccc;
  }

  .producto button,
  .carrito button {
    background-color: #00d26a; /* verde street */
    border: none;
    color: white;
    padding: 8px;
    margin-top: 8px;
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .producto button:hover {
    background-color: #00b85a;
    transform: scale(1.05);
  }

  .carrito {
    margin-top: 30px;
    padding: 20px;
    background: #181818; /* panel oscuro */
    border-radius: 8px;
    text-align: left;
    display: inline-block;
    box-shadow: 0 0 10px rgba(255, 60, 0, 0.15);
    min-width: 260px;
  }

  .carrito h2 {
    color: #ff3c00;
    text-align: center;
  }

  .carrito ul {
    list-style: none;
    padding: 0;
    margin: 10px 0;
  }

  .carrito ul li {
    padding: 5px 0;
    border-bottom: 1px solid #333;
  }

  .carrito button.vaciar {
    background-color: #ff4444; /* rojo urbano */
    margin-top: 10px;
  }

  .carrito button.vaciar:hover {
    background-color: #ff2222;
  }
</style>

<script>
  const productos = [
    {
      id: 1,
      nombre: "Hoodie â€œBlack Streetâ€",
      precio: 120000,
      imagen: "https://media-assets.grailed.com/prd/listing/temp/915eaf1404da44a6a29fcb36cd43d608"
    },
    {
      id: 2,
      nombre: "Hoodie â€œRetro Grayâ€",
      precio: 115000,
      imagen: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSXhbsbp2JjHpFzORoXX9zXQJOLr1qNNLL3YQ&s"
    },
    {
      id: 3,
      nombre: "Gorra â€œNYC Flatâ€",
      precio: 75000,
      imagen: "https://static.caphunters.co.uk/13522-large_default/new-era-flat-brim-59fifty-essential-new-york-yankees-mlb-purple-fitted-cap.webp"
    },
    {
      id: 4,
      nombre: "Gorra â€œClassic Whiteâ€",
      precio: 70000,
      imagen: "https://www.topperzstore.es/media/62/a1/bf/1721471739/62356-47_ney_york_yankees_mvp_white_cap_1.jpg?ts=1721471739"
    },
    {
      id: 5,
      nombre: "Buso Oversize â€œStormâ€",
      precio: 95000,
      imagen: "https://acdn-us.mitiendanube.com/stores/001/015/914/products/butterfly-hoodie-macana-brothers-1-22e5a256a910779f9a17134662970837-480-0.jpeg"
    },
  ];

  const carrito = [];

  const contenedorProductos = document.getElementById("productos");
  const listaCarrito = document.getElementById("lista-carrito");
  const totalCarrito = document.getElementById("total");

  function mostrarProductos() {
    productos.forEach(prod => {
      const div = document.createElement("div");
      div.className = "producto";
      div.innerHTML = `
        <img src="${prod.imagen}" alt="${prod.nombre}">
        <h3>${prod.nombre}</h3>
        <p>Precio: $${prod.precio.toLocaleString()}</p>
        <button onclick="agregarAlCarrito(${prod.id})">Agregar al carrito</button>
      `;
      contenedorProductos.appendChild(div);
    });
  }

  function agregarAlCarrito(id) {
    const productoExistente = carrito.find(p => p.id === id);
    if (productoExistente) {
      productoExistente.cantidad++;
    } else {
      const producto = productos.find(p => p.id === id);
      carrito.push({ ...producto, cantidad: 1 });
    }
    actualizarCarrito();
  }

  function actualizarCarrito() {
    listaCarrito.innerHTML = "";
    let total = 0;
    let totalItems = 0;

    carrito.forEach(item => {
      const li = document.createElement("li");
      li.textContent = `${item.nombre} x${item.cantidad} - $${(item.precio * item.cantidad).toLocaleString()}`;
      listaCarrito.appendChild(li);
      total += item.precio * item.cantidad;
      totalItems += item.cantidad;
    });

    totalCarrito.textContent = total.toLocaleString();
    actualizarTituloCarrito(totalItems);
  }

  function actualizarTituloCarrito(cantidad) {
    const titulo = document.querySelector(".carrito h2");
    titulo.textContent = `ðŸ§¾ Carrito de Compras (${cantidad})`;
  }

  function vaciarCarrito() {
    if (confirm("Â¿EstÃ¡s seguro de que quieres vaciar el carrito?")) {
      carrito.length = 0;
      actualizarCarrito();
    }
  }

  function finalizarCompra() {
    if (carrito.length === 0) {
      alert("El carrito estÃ¡ vacÃ­o. Agrega productos antes de finalizar la compra.");
      return;
    }

    alert("ðŸŽ‰ Â¡Gracias por tu compra! En breve recibirÃ¡s un correo de confirmaciÃ³n.");
    carrito.length = 0;
    actualizarCarrito();
  }

  const botonFinalizar = document.createElement("button");
  botonFinalizar.textContent = "âœ… Finalizar Compra";
  botonFinalizar.style.backgroundColor = "#007bff";
  botonFinalizar.style.marginTop = "10px";
  botonFinalizar.style.color = "white";
  botonFinalizar.style.padding = "8px";
  botonFinalizar.style.borderRadius = "4px";
  botonFinalizar.style.border = "none";
  botonFinalizar.onclick = finalizarCompra;

  document.querySelector(".carrito").appendChild(botonFinalizar);

  mostrarProductos();
</script>
